var he=Object.defineProperty;var ce=(f,l,h)=>l in f?he(f,l,{enumerable:!0,configurable:!0,writable:!0,value:h}):f[l]=h;var d=(f,l,h)=>(ce(f,typeof l!="symbol"?l+"":l,h),h);(function(f,l){typeof exports=="object"&&typeof module!="undefined"?l(exports):typeof define=="function"&&define.amd?define(["exports"],l):(f=typeof globalThis!="undefined"?globalThis:f||self,l(f.UpVue={}))})(this,function(f){"use strict";function l(e,t){return t.forEach(function(r){Object.keys(r).forEach(function(s){if(s!=="default"&&!(s in e)){var i=Object.getOwnPropertyDescriptor(r,s);Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:function(){return r[s]}})}})}),Object.freeze(e)}class h{constructor(t={}){this.record(t)}all(){return this.errors}has(t){let r=this.errors.hasOwnProperty(t);return r||(r=Object.keys(this.errors).filter(i=>i.startsWith(`${t}.`)||i.startsWith(`${t}[`)).length>0),r}first(t){return this.get(t)[0]}get(t){return this.errors[t]||[]}any(t=[]){if(t.length===0)return Object.keys(this.errors).length>0;let r={};return t.forEach(s=>r[s]=this.get(s)),r}record(t={}){this.errors=t}clear(t){if(!t){this.errors={};return}let r=Object.assign({},this.errors);Object.keys(r).filter(s=>s===t||s.startsWith(`${t}.`)||s.startsWith(`${t}[`)).forEach(s=>delete r[s]),this.errors=r}}function j(e){return Object.prototype.toString.call(e)==="[object Array]"}function x(e){return e instanceof File||e instanceof FileList}function y(e,t){for(const r in t)e[r]=b(t[r])}function b(e){if(e===null)return null;if(x(e))return e;if(Array.isArray(e)){const t=[];for(const r in e)e.hasOwnProperty(r)&&(t[r]=b(e[r]));return t}if(typeof e=="object"){const t={};for(const r in e)e.hasOwnProperty(r)&&(t[r]=b(e[r]));return t}return e}function D(e,t=new FormData,r=null){if(e===null||e==="undefined"||e.length===0)return t.append(r,e);for(const s in e)e.hasOwnProperty(s)&&Z(t,C(r,s),e[s]);return t}function C(e,t){return e?e+"["+t+"]":t}function Z(e,t,r){if(r instanceof Date)return e.append(t,r.toISOString());if(r instanceof File)return e.append(t,r,r.name);if(typeof r=="boolean")return e.append(t,r?"1":"0");if(r===null)return e.append(t,"");if(typeof r!="object")return e.append(t,r);D(r,e,t)}const W=["__http","__options","__validateRequestType","clear","data","delete","errors","getError","getErrors","hasError","initial","onFail","only","onSuccess","patch","populate","post","processing","successful","put","reset","submit","withData","withErrors","withOptions"];function M(e){if(W.indexOf(e)!==-1)throw new Error(`Field name ${e} isn't allowed to be used in a Form or Errors instance.`)}function L(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}function K(e){return e%4==0&&e%100!=0||e%400==0}function U(e=""){if(e.length===10){let r=e.replace(".","-").replace("/","-").split("-");if(r.length===3&&r[0].length===4){let s=parseInt(r[0]),i=parseInt(r[1]),n=parseInt(r[2]);if(i===2){if(K(s)){if(n>29)return!1}else if(n>28)return!1}if((i===4||i===6||i===9||i===11)&&n>30)return!1}return!0}return!0}function c(e){let t;if(typeof e=="number"&&(t=new Date(e),typeof t=="object"))return!0;if(t=new Date(e),typeof t=="object")return!(t.toString()==="Invalid Date"||!U(e));var r=/^\d{4}\-\d{1,2}\-\d{1,2}$/;if(!r.test(e))return!1;var s=e.split("-"),i=parseInt(s[2],10),n=parseInt(s[1],10),a=parseInt(s[0],10);if(a<1e3||a>3e3||n==0||n>12)return!1;var u=[31,28,31,30,31,30,31,31,30,31,30,31];return(a%400==0||a%100!=0&&a%4==0)&&(u[1]=29),i>0&&i<=u[n-1]}var v={required:function(e){var t;return e==null?!1:(t=String(e).replace(/\s/g,""),t.length>0)},required_if:function(e,t,r){return t=this.getParameters(),this.validator._objectPath(this.validator.input,t[0])===t[1]?this.validator.getRule("required").validate(e):!0},required_unless:function(e,t,r){return t=this.getParameters(),this.validator._objectPath(this.validator.input,t[0])!==t[1]?this.validator.getRule("required").validate(e):!0},required_with:function(e,t,r){return this.validator._objectPath(this.validator.input,t)?this.validator.getRule("required").validate(e):!0},required_with_all:function(e,t,r){t=this.getParameters();for(var s=0;s<t.length;s++)if(!this.validator._objectPath(this.validator.input,t[s]))return!0;return this.validator.getRule("required").validate(e)},required_without:function(e,t,r){return this.validator._objectPath(this.validator.input,t)?!0:this.validator.getRule("required").validate(e)},required_without_all:function(e,t,r){t=this.getParameters();for(var s=0;s<t.length;s++)if(this.validator._objectPath(this.validator.input,t[s]))return!0;return this.validator.getRule("required").validate(e)},boolean:function(e){return e===!0||e===!1||e===0||e===1||e==="0"||e==="1"||e==="true"||e==="false"},size:function(e,t,r){if(e){t=parseFloat(t);var s=this.getSize();return s===t}return!0},string:function(e,t,r){return typeof e=="string"},sometimes:function(e){return!0},min:function(e,t,r){var s=this.getSize();return s>=t},max:function(e,t,r){var s=this.getSize();return s<=t},between:function(e,t,r){t=this.getParameters();var s=this.getSize(),i=parseFloat(t[0],10),n=parseFloat(t[1],10);return s>=i&&s<=n},email:function(e){var t=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)||(t=/^((?:[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]|[^\u0000-\u007F])+@(?:[a-zA-Z0-9]|[^\u0000-\u007F])(?:(?:[a-zA-Z0-9-]|[^\u0000-\u007F]){0,61}(?:[a-zA-Z0-9]|[^\u0000-\u007F]))?(?:\.(?:[a-zA-Z0-9]|[^\u0000-\u007F])(?:(?:[a-zA-Z0-9-]|[^\u0000-\u007F]){0,61}(?:[a-zA-Z0-9]|[^\u0000-\u007F]))?)+)*$/),t.test(e)},numeric:function(e){var t;return t=Number(e),typeof t=="number"&&!isNaN(t)&&typeof e!="boolean"},array:function(e){return e instanceof Array},url:function(e){return/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_\+.~#?&/=]*)/i.test(e)},alpha:function(e){return/^[a-zA-Z]+$/.test(e)},alpha_dash:function(e){return/^[a-zA-Z0-9_\-]+$/.test(e)},alpha_num:function(e){return/^[a-zA-Z0-9]+$/.test(e)},same:function(e,t){var r=this.validator._flattenObject(this.validator.input)[t],s=e;return r===s},different:function(e,t){var r=this.validator._flattenObject(this.validator.input)[t],s=e;return r!==s},in:function(e,t){var r,s;if(e&&(r=this.getParameters()),e&&!(e instanceof Array)){var i=e;for(s=0;s<r.length;s++)if(typeof r[s]=="string"&&(i=String(e)),i===r[s])return!0;return!1}if(e&&e instanceof Array){for(s=0;s<e.length;s++)if(r.indexOf(e[s])<0)return!1}return!0},not_in:function(e,t){for(var r=this.getParameters(),s=r.length,i=!0,n=0;n<s;n++){var a=e;if(typeof r[n]=="string"&&(a=String(e)),a===r[n]){i=!1;break}}return i},accepted:function(e){return e==="on"||e==="yes"||e===1||e==="1"||e===!0},confirmed:function(e,t,r){var s=r+"_confirmation";return this.validator.input[s]===e},integer:function(e){return String(parseInt(e,10))===String(e)},digits:function(e,t){var r=this.validator.getRule("numeric");return!!(r.validate(e)&&String(e.trim()).length===parseInt(t))},digits_between:function(e){var t=this.validator.getRule("numeric"),r=this.getParameters(),s=String(e).length,i=parseFloat(r[0],10),n=parseFloat(r[1],10);return!!(t.validate(e)&&s>=i&&s<=n)},regex:function(e,t){var r=/[g|i|m]{1,3}$/,s=t.match(r);return s=s?s[0]:"",t=t.replace(r,"").slice(1,-1),t=new RegExp(t,s),!!t.test(e)},date:function(e,t){return c(e)},present:function(e){return typeof e!="undefined"},after:function(e,t){var r=this.validator.input[t],s=e;return!c(r)||!c(s)?!1:new Date(r).getTime()<new Date(s).getTime()},after_or_equal:function(e,t){var r=this.validator.input[t],s=e;return!c(r)||!c(s)?!1:new Date(r).getTime()<=new Date(s).getTime()},before:function(e,t){var r=this.validator.input[t],s=e;return!c(r)||!c(s)?!1:new Date(r).getTime()>new Date(s).getTime()},before_or_equal:function(e,t){var r=this.validator.input[t],s=e;return!c(r)||!c(s)?!1:new Date(r).getTime()>=new Date(s).getTime()},hex:function(e){return/^[0-9a-f]+$/i.test(e)},ipv4:function(e,t,r){if(typeof e!="string")return!1;var s=/^[0-9]+$/;if(octets=e.split("."),octets.length!=4)return!1;for(let n=0;n<octets.length;n++){const a=octets[n];if(!s.test(a))return!1;var i=parseInt(a);if(i>=256)return!1}return!0},ipv6:function(e,t,r){if(typeof e!="string")return!1;var s=/^[0-9a-f]+$/;if(hextets=e.split(":"),colons=e.match(/::/),colons!=null&&e.match(/::/g).length>1||e[0]==":"&&(colons==null||colons!=null&&colons.index!=0)||e[e.length-1]==":"&&(colons==null||colons!=null&&colons.index!=e.length-2)||3>hextets.length)return!1;var i=hextets.length==9&&colons!=null&&(colons.index==0||colons.index==e.length-2);if(hextets.length>8&&!i||hextets.length!=8&&colons==null)return!1;for(let n=0;n<hextets.length;n++){const a=hextets[n];if(a.length!=0&&(!s.test(a)||a.length>4))return!1}return!0},ip:function(e,t,r){return v.ipv4(e,t,r)||v.ipv6(e,t,r)}},E=function(){throw new Error("Validator `"+this.name+"` is not defined!")},q;function N(e,t,r){this.name=e,this.fn=t,this.passes=null,this._customMessage=void 0,this.async=r}N.prototype={validate:function(e,t,r,s){var i=this;if(this._setValidatingData(r,e,t),typeof s=="function"){this.callback=s;var n=function(a,u){i.response(a,u)};return this.async?this._apply(e,t,r,n):n(this._apply(e,t,r))}return this._apply(e,t,r)},_apply:function(e,t,r,s){var i=this.isMissed()?E:this.fn;return i.apply(this,[e,t,r,s])},_setValidatingData:function(e,t,r){this.attribute=e,this.inputValue=t,this.ruleValue=r},getParameters:function(){var e=[];return typeof this.ruleValue=="string"&&(e=this.ruleValue.split(",")),typeof this.ruleValue=="number"&&e.push(this.ruleValue),this.ruleValue instanceof Array&&(e=this.ruleValue),e},getSize:function(){var e=this.inputValue;return e instanceof Array?e.length:typeof e=="number"?e:this.validator._hasNumericRule(this.attribute)?parseFloat(e,10):e.length},_getValueType:function(){return typeof this.inputValue=="number"||this.validator._hasNumericRule(this.attribute)?"numeric":"string"},response:function(e,t){this.passes=e===void 0||e===!0,this._customMessage=t,this.callback(this.passes,t)},setValidator:function(e){this.validator=e},isMissed:function(){return typeof this.fn!="function"},get customMessage(){return this.isMissed()?q:this._customMessage}};var Y={asyncRules:[],implicitRules:["required","required_if","required_unless","required_with","required_with_all","required_without","required_without_all","accepted","present"],make:function(e,t){var r=this.isAsync(e),s=new N(e,v[e],r);return s.setValidator(t),s},isAsync:function(e){for(var t=0,r=this.asyncRules.length;t<r;t++)if(this.asyncRules[t]===e)return!0;return!1},isImplicit:function(e){return this.implicitRules.indexOf(e)>-1},register:function(e,t){v[e]=t},registerImplicit:function(e,t){this.register(e,t),this.implicitRules.push(e)},registerAsync:function(e,t){this.register(e,t),this.asyncRules.push(e)},registerAsyncImplicit:function(e,t){this.registerImplicit(e,t),this.asyncRules.push(e)},registerMissedRuleValidator:function(e,t){E=e,q=t}},B=Y,G={between:function(e,t){var r=t.getParameters();return this._replacePlaceholders(t,e,{min:r[0],max:r[1]})},digits_between:function(e,t){var r=t.getParameters();return this._replacePlaceholders(t,e,{min:r[0],max:r[1]})},required_if:function(e,t){var r=t.getParameters();return this._replacePlaceholders(t,e,{other:this._getAttributeName(r[0]),value:r[1]})},required_unless:function(e,t){var r=t.getParameters();return this._replacePlaceholders(t,e,{other:this._getAttributeName(r[0]),value:r[1]})},required_with:function(e,t){var r=t.getParameters();return this._replacePlaceholders(t,e,{field:this._getAttributeName(r[0])})},required_with_all:function(e,t){var r=t.getParameters(),s=this._getAttributeName.bind(this);return this._replacePlaceholders(t,e,{fields:r.map(s).join(", ")})},required_without:function(e,t){var r=t.getParameters();return this._replacePlaceholders(t,e,{field:this._getAttributeName(r[0])})},required_without_all:function(e,t){var r=t.getParameters(),s=this._getAttributeName.bind(this);return this._replacePlaceholders(t,e,{fields:r.map(s).join(", ")})},after:function(e,t){var r=t.getParameters();return this._replacePlaceholders(t,e,{after:this._getAttributeName(r[0])})},before:function(e,t){var r=t.getParameters();return this._replacePlaceholders(t,e,{before:this._getAttributeName(r[0])})},after_or_equal:function(e,t){var r=t.getParameters();return this._replacePlaceholders(t,e,{after_or_equal:this._getAttributeName(r[0])})},before_or_equal:function(e,t){var r=t.getParameters();return this._replacePlaceholders(t,e,{before_or_equal:this._getAttributeName(r[0])})},same:function(e,t){var r=t.getParameters();return this._replacePlaceholders(t,e,{same:this._getAttributeName(r[0])})}};function H(e){return e.replace(/[_\[]/g," ").replace(/]/g,"")}var z={replacements:G,formatter:H},S=z,w=function(e,t){this.lang=e,this.messages=t,this.customMessages={},this.attributeNames={}};w.prototype={constructor:w,_setCustom:function(e){this.customMessages=e||{}},_setAttributeNames:function(e){this.attributeNames=e},_setAttributeFormatter:function(e){this.attributeFormatter=e},_getAttributeName:function(e){var t=e;return this.attributeNames.hasOwnProperty(e)?this.attributeNames[e]:(this.messages.attributes.hasOwnProperty(e)&&(t=this.messages.attributes[e]),this.attributeFormatter&&(t=this.attributeFormatter(t)),t)},all:function(){return this.messages},render:function(e){if(e.customMessage)return e.customMessage;var t=this._getTemplate(e),r;return S.replacements[e.name]?r=S.replacements[e.name].apply(this,[t,e]):r=this._replacePlaceholders(e,t,{}),r},_getTemplate:function(e){for(var t=this.messages,r=t.def,s=this.customMessages,i=[e.name+"."+e.attribute,e.name],n=0,a;n<i.length;n++)if(a=i[n],s.hasOwnProperty(a)){r=s[a];break}else if(t.hasOwnProperty(a)){r=t[a];break}return typeof r=="object"&&(r=r[e._getValueType()]),r},_replacePlaceholders:function(e,t,r){var s,i;if(r.attribute=this._getAttributeName(e.attribute),r[e.name]=r[e.name]||e.getParameters().join(","),typeof t=="string"&&typeof r=="object"){s=t;for(i in r)s=s.replace(new RegExp(":"+i,"g"),r[i])}return s}};var J=w,Q=J,X=L,ee={messages:{},_set:function(e,t){this.messages[e]=t},_setRuleMessage:function(e,t,r){this._load(e),r===void 0&&(r=this.messages[e].def),this.messages[e][t]=r},_load:function(e){if(!this.messages[e])try{var t=X("./lang/"+e);this._set(e,t)}catch(r){}},_get:function(e){return this._load(e),this.messages[e]},_make:function(e){return this._load(e),new Q(e,this.messages[e])}},te=ee,A=function(){this.errors={}};A.prototype={constructor:A,add:function(e,t){this.has(e)||(this.errors[e]=[]),this.errors[e].indexOf(t)===-1&&this.errors[e].push(t)},get:function(e){return this.has(e)?this.errors[e]:[]},first:function(e){return this.has(e)?this.errors[e][0]:!1},all:function(){return this.errors},has:function(e){return!!this.errors.hasOwnProperty(e)}};var re=A;function $(e,t){this.onResolvedAll=t,this.onFailedOne=e,this.resolvers={},this.resolversCount=0,this.passed=[],this.failed=[],this.firing=!1}$.prototype={add:function(e){var t=this.resolversCount;return this.resolvers[t]=e,this.resolversCount++,t},resolve:function(e){var t=this.resolvers[e];t.passes===!0?this.passed.push(t):t.passes===!1&&(this.failed.push(t),this.onFailedOne(t)),this.fire()},isAllResolved:function(){return this.passed.length+this.failed.length===this.resolversCount},fire:function(){!this.firing||this.isAllResolved()&&this.onResolvedAll(this.failed.length===0)},enableFiring:function(){this.firing=!0}};var se=$,p=B,g=te,ie=re,ne=z,ae=se,o=function(e,t,r){var s=o.getDefaultLang();this.input=e||{},this.messages=g._make(s),this.messages._setCustom(r),this.setAttributeFormatter(o.prototype.attributeFormatter),this.errors=new ie,this.errorCount=0,this.hasAsync=!1,this.rules=this._parseRules(t)};o.prototype={constructor:o,lang:"en",numericRules:["integer","numeric"],attributeFormatter:ne.formatter,check:function(){for(var e in this.rules){var t=this.rules[e],r=this._objectPath(this.input,e);if(!(this._hasRule(e,["sometimes"])&&!this._suppliedWithData(e)))for(var s=0,i=t.length,n,a,u;s<i&&(a=t[s],n=this.getRule(a.name),!(!!this._isValidatable(n,r)&&(u=n.validate(r,a.value,e),u||this._addFailure(n),this._shouldStopValidating(e,u))));s++);}return this.errorCount===0},checkAsync:function(e,t){var r=this;e=e||function(){},t=t||function(){};var s=function(m,F){r._addFailure(m,F)},i=function(m){m?e():t()},n=new ae(s,i),a=function(m,F,fe,T){return function(){var le=n.add(T);T.validate(m,F.value,fe,function(){n.resolve(le)})}};for(var u in this.rules){var I=this.rules[u],V=this._objectPath(this.input,u);if(!(this._hasRule(u,["sometimes"])&&!this._suppliedWithData(u)))for(var R=0,oe=I.length,P,O;R<oe;R++)O=I[R],P=this.getRule(O.name),!!this._isValidatable(P,V)&&a(V,O,u,P)()}n.enableFiring(),n.fire()},_addFailure:function(e){var t=this.messages.render(e);this.errors.add(e.attribute,t),this.errorCount++},_flattenObject:function(e){var t={};function r(s,i){if(!(!i&&Object.getOwnPropertyNames(s).length===0))if(Object(s)!==s||Array.isArray(s))t[i]=s;else{var n=!0;for(var a in s)n=!1,r(s[a],i?i+"."+a:a);n&&(t[i]={})}}return e&&r(e),t},_objectPath:function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t];var r=t.replace(/\[(\w+)\]/g,".$1").replace(/^\./,"").split("."),s={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(s[i]=e[i]);for(var n=0,a=r.length;n<a;n++)if(typeof s=="object"&&s!==null&&Object.hasOwnProperty.call(s,r[n]))s=s[r[n]];else return;return s},_parseRules:function(e){var t={};e=this._flattenObject(e);for(var r in e){var s=e[r];this._parseRulesCheck(r,s,t)}return t},_parseRulesCheck:function(e,t,r,s){e.indexOf("*")>-1?this._parsedRulesRecurse(e,t,r,s):this._parseRulesDefault(e,t,r,s)},_parsedRulesRecurse:function(e,t,r,s){var i=e.substr(0,e.indexOf("*")-1),n=this._objectPath(this.input,i);if(n)for(var a=0;a<n.length;a++){var u=s?s.slice():[];u.push(a),this._parseRulesCheck(e.replace("*",a),t,r,u)}},_parseRulesDefault:function(e,t,r,s){var i=[];t instanceof Array&&(t=this._prepareRulesArray(t)),typeof t=="string"&&(t=t.split("|"));for(var n=0,a=t.length,u;n<a;n++)u=typeof t[n]=="string"?this._extractRuleAndRuleValue(t[n]):t[n],u.value&&(u.value=this._replaceWildCards(u.value,s),this._replaceWildCardsMessages(s)),p.isAsync(u.name)&&(this.hasAsync=!0),i.push(u);r[e]=i},_replaceWildCards:function(e,t){if(!t)return e;var r=e;return t.forEach(function(s){Array.isArray(r)&&(r=r[0]);const i=r.indexOf("*");if(i===-1)return r;r=r.substr(0,i)+s+r.substr(i+1)}),Array.isArray(e)&&(e[0]=r,r=e),r},_replaceWildCardsMessages:function(e){var t=this.messages.customMessages,r=this;Object.keys(t).forEach(function(s){if(e){var i=r._replaceWildCards(s,e);t[i]=t[s]}}),this.messages._setCustom(t)},_prepareRulesArray:function(e){for(var t=[],r=0,s=e.length;r<s;r++)if(typeof e[r]=="object")for(var i in e[r])t.push({name:i,value:e[r][i]});else t.push(e[r]);return t},_suppliedWithData:function(e){return this.input.hasOwnProperty(e)},_extractRuleAndRuleValue:function(e){var t={},r;return t.name=e,e.indexOf(":")>=0&&(r=e.split(":"),t.name=r[0],t.value=r.slice(1).join(":")),t},_hasRule:function(e,t){for(var r=this.rules[e]||[],s=0,i=r.length;s<i;s++)if(t.indexOf(r[s].name)>-1)return!0;return!1},_hasNumericRule:function(e){return this._hasRule(e,this.numericRules)},_isValidatable:function(e,t){return Array.isArray(t)||p.isImplicit(e.name)?!0:this.getRule("required").validate(t)},_shouldStopValidating:function(e,t){var r=this.stopOnAttributes;return typeof r=="undefined"||r===!1||t===!0?!1:r instanceof Array?r.indexOf(e)>-1:!0},setAttributeNames:function(e){this.messages._setAttributeNames(e)},setAttributeFormatter:function(e){this.messages._setAttributeFormatter(e)},getRule:function(e){return p.make(e,this)},stopOnError:function(e){this.stopOnAttributes=e},passes:function(e){var t=this._checkAsync("passes",e);return t?this.checkAsync(e):this.check()},fails:function(e){var t=this._checkAsync("fails",e);return t?this.checkAsync(function(){},e):!this.check()},_checkAsync:function(e,t){var r=typeof t=="function";if(this.hasAsync&&!r)throw e+" expects a callback when async rules are being tested.";return this.hasAsync||r}},o.setMessages=function(e,t){return g._set(e,t),this},o.getMessages=function(e){return g._get(e)},o.useLang=function(e){this.prototype.lang=e},o.getDefaultLang=function(){return this.prototype.lang},o.setAttributeFormatter=function(e){this.prototype.attributeFormatter=e},o.stopOnError=function(e){this.prototype.stopOnAttributes=e},o.register=function(e,t,r,s){var i=o.getDefaultLang();p.register(e,t),g._setRuleMessage(i,e,r)},o.registerImplicit=function(e,t,r,s){var i=o.getDefaultLang();p.registerImplicit(e,t),g._setRuleMessage(i,e,r)},o.registerAsync=function(e,t,r,s){var i=o.getDefaultLang();p.registerAsync(e,t),g._setRuleMessage(i,e,r)},o.registerAsyncImplicit=function(e,t,r){var s=o.getDefaultLang();p.registerAsyncImplicit(e,t),g._setRuleMessage(s,e,r)},o.registerMissedRuleValidator=function(e,t){p.registerMissedRuleValidator(e,t)};var k=o,ue=Object.freeze(l({__proto__:null,[Symbol.toStringTag]:"Module",default:k},[k]));class _{constructor(t={},r={}){d(this,"processing");d(this,"successful");d(this,"errors");d(this,"__options");d(this,"initial");this.processing=!1,this.successful=!1,this.withData(t).withOptions(r).withErrors({})}withData(t){j(t)&&(t=t.reduce((r,s)=>(r[s]="",r),{})),this.setInitialValues(t),this.errors=new h,this.processing=!1,this.successful=!1;for(const r in t)M(r),this[r]=t[r];return this}withErrors(t){return this.errors=new h(t),this}withOptions(t){this.__options={resetOnSuccess:!0},t.hasOwnProperty("resetOnSuccess")&&(this.__options.resetOnSuccess=t.resetOnSuccess),t.hasOwnProperty("onSuccess")&&(this.onSuccess=t.onSuccess),t.hasOwnProperty("onFail")&&(this.onFail=t.onFail);const r=typeof window=="undefined"?!1:window.axios;if(this.__http=t.http||r||axios,!this.__http)throw new Error("No http library provided. Either pass an http option, or install axios.");return this}data(){const t={};for(const r in this.initial)t[r]=this[r];return t}only(t){return t.reduce((r,s)=>(r[s]=this[s],r),{})}reset(){y(this,this.initial),this.errors.clear()}setInitialValues(t){this.initial={},y(this.initial,t)}populate(t){return Object.keys(t).forEach(r=>{M(r),this.hasOwnProperty(r)&&y(this,{[r]:t[r]})}),this}clear(){for(const t in this.initial)this[t]="";this.errors.clear()}post(t){return this.submit("post",t)}put(t){return this.submit("put",t)}patch(t){return this.submit("patch",t)}delete(t){return this.submit("delete",t)}submit(t,r){return this.__validateRequestType(t),this.errors.clear(),this.processing=!0,this.successful=!1,new Promise((s,i)=>{this.__http[t](r,this.hasFiles()?D(this.data()):this.data()).then(n=>{this.processing=!1,this.onSuccess(n.data),s(n.data)}).catch(n=>{this.processing=!1,this.onFail(n),i(n)})})}hasFiles(){for(const t in this.initial)if(this.hasFilesDeep(this[t]))return!0;return!1}hasFilesDeep(t){if(t===null)return!1;if(typeof t=="object"){for(const r in t)if(t.hasOwnProperty(r)&&this.hasFilesDeep(t[r]))return!0}if(Array.isArray(t)){for(const r in t)if(t.hasOwnProperty(r))return this.hasFilesDeep(t[r])}return x(t)}onSuccess(t){this.successful=!0,this.__options.resetOnSuccess&&this.reset()}onFail(t){this.successful=!1,t.response&&t.response.data.errors&&this.errors.record(t.response.data.errors)}hasError(t){return this.errors.has(t)}getError(t){return this.errors.first(t)}getErrors(t){return this.errors.get(t)}__validateRequestType(t){const r=["get","delete","head","post","put","patch"];if(r.indexOf(t)===-1)throw new Error(`\`${t}\` is not a valid request type, must be one of: \`${r.join("`, `")}\`.`)}validate(t,r){this.errors.clear(),this.processing=!0,this.successful=!1;let s=new ue(this.data(),t);s.fails()?(this.successful=!1,this.errors.record(s.errors.all())):this.successful=!0}static create(t={}){return new _().withData(t)}}f.Errors=h,f.Form=_,f.default=_,Object.defineProperty(f,"__esModule",{value:!0}),f[Symbol.toStringTag]="Module"});
