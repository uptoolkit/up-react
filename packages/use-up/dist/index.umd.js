var C=Object.defineProperty;var _=Object.getOwnPropertySymbols;var S=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable;var b=(e,s,c)=>s in e?C(e,s,{enumerable:!0,configurable:!0,writable:!0,value:c}):e[s]=c,l=(e,s)=>{for(var c in s||(s={}))S.call(s,c)&&b(e,c,s[c]);if(_)for(var c of _(s))F.call(s,c)&&b(e,c,s[c]);return e};(function(e,s){typeof exports=="object"&&typeof module!="undefined"?s(exports,require("js-config-helper"),require("axios"),require("antd"),require("js-form-helper")):typeof define=="function"&&define.amd?define(["exports","js-config-helper","axios","antd","js-form-helper"],s):(e=typeof globalThis!="undefined"?globalThis:e||self,s(e.useUp={},e.Config,e.axios,e.antd,e.Form))})(this,function(e,s,c,d,w){"use strict";function h(r){return r&&typeof r=="object"&&"default"in r?r:{default:r}}function y(r){if(r&&r.__esModule)return r;var t={__proto__:null,[Symbol.toStringTag]:"Module"};return r&&Object.keys(r).forEach(function(i){if(i!=="default"){var n=Object.getOwnPropertyDescriptor(r,i);Object.defineProperty(t,i,n.get?n:{enumerable:!0,get:function(){return r[i]}})}}),t.default=r,Object.freeze(t)}var p=h(s),g=y(c),m=h(w);class v{__(t,i=null,n=null){return this.get(t,i,n)}add(t,i=null){i||(i=this.locale),this.translations.set(i,Object.assign({},this.translations.get(i),t))}choice(t,i=1,n=null,o=null){o||(o=this.locale);let f=null;const a=this.fetch(`${o}.${t}`);if(!a)return typeof window!="undefined"&&this.options.storeNotFounds&&window[this.options.globalName]._notFounds.push(t),this.forceDisplayKeys?n?this.constructor.replaceString(t,n):t:"";const u=a.split("|");return u.some($=>(f=this.constructor.matchChoiceCount($,i),f)),f===!1&&(f=i>1?u[1]:u[0]),this._returnString(t,f,n)}constructor(t={},i="en",n={}){n=Object.assign({globalName:"translations",forceDisplayKeys:!0,storeNotFounds:!0},n),this.forceDisplayKeys=n.forceDisplayKeys,this.locale=i,this.translations=new Map,typeof window!="undefined"&&n.globalName&&(window[n.globalName]===void 0&&(window[n.globalName]={}),t=Object.assign({},window[n.globalName],t),n.storeNotFounds&&(window[n.globalName]._notFounds=[])),this.set(t,this.locale),this.options=n}static decodeHtml(t){if(typeof document!="undefined"){const i=document.createElement("textarea");return i.innerHTML=t,i.value}return t}fetch(t){const i=t.split("."),n=i.shift();let o=this.translations.get(n);return i.forEach(f=>{o&&(o=o[f])}),o}get(t,i=null,n=null){typeof i=="string"&&(n=i,i=null),n||(n=this.locale);const o=this.fetch(`${n}.${t}`);return this._returnString(t,o,i)}has(t,i=null){return i||(i=this.locale),this.fetch(`${i}.${t}`)!==void 0}static matchChoiceCount(t,i){const n=t.match(/^[{[]([^[\]{}]*)[}\]](.*)/);if(!n)return!1;if(n[1].includes(",")){const[o,f]=n[1].split(",",2);if(f==="*"&&i>=o||o==="*"&&i<=f||i>=o&&i<=f)return n[2]}return parseInt(n[1],10)===i?n[2]:null}static replaceString(t,i){return i?Object.entries(i).reduce((n,[o,f])=>{f=String(f);const a=o.toLowerCase();return n.replace(`:${a}`,f).replace(`:${a.toUpperCase()}`,f.toUpperCase()).replace(`:${a.charAt(0).toUpperCase()}${a.slice(1)}`,`${f.charAt(0).toUpperCase()}${f.slice(1)}`)},t):t}_returnString(t,i,n){return typeof i!="string"&&this.forceDisplayKeys&&(i=t,this.options.storeNotFounds&&typeof window!="undefined"&&window[this.options.globalName]._notFounds.push(t)),n&&(i=this.constructor.replaceString(i,n)),this.constructor.decodeHtml(i)}setLocale(t){this.locale=t}set(t,i=null){i||(i=this.locale),this.translations.set(i,t)}}function j(r={},t="en",i={}){return new v(r,t,i)}e.api=void 0,e.http=void 0,e.config=void 0,e.i18n=void 0,e.store=void 0,e.form=void 0,e.formApi=void 0,e.message=void 0,e.notification=void 0,e.exported=void 0;function N(r){var t,i,n;if(r){if(e.config=new p.default(r),e.http=e.config.get("override.http")||g.create(),e.api=e.config.get("override")||g.create({baseURL:e.config.get("api.url")}),e.config.has("exclude.form")||(e.form=function(o,f){return new m.default(o,l({http:e.http},f))},e.formApi=function(o,f){return new m.default(o,l({http:e.api},f))}),e.config.has("exclude.message")||(e.message=e.config.get("override.message")||d.message),e.config.has("exclude.notification")||(e.notification=e.config.get("override.notification")||d.notification),!e.config.has("exclude.i18n")){const o=r.translations[r.locale];e.i18n=j(o,r.locale,{globalName:"translations",forceDisplayKeys:!0,storeNotFounds:!0})}e.store=e.config.get("override.store"),e.exported={config:e.config,api:e.api,http:e.http,i18n:e.i18n,form:e.form,formApi:e.formApi,store:e.store,t:(t=e.i18n)==null?void 0:t.__.bind(e.i18n),__:(i=e.i18n)==null?void 0:i.__.bind(e.i18n),choice:(n=e.i18n)==null?void 0:n.choice.bind(e.i18n),message:e.message,notification:e.notification},e.config.has("debug")&&console.log("\u2934 useUp() accessible vars :",e.exported)}return e.exported}e.useUp=N,Object.defineProperty(e,"__esModule",{value:!0}),e[Symbol.toStringTag]="Module"});
