(function(e,n){typeof exports=="object"&&typeof module!="undefined"?n(exports,require("react"),require("js-config-helper"),require("axios"),require("antd"),require("js-form-helper"),require("@apollo/client"),require("i18next"),require("react-i18next"),require("react/jsx-runtime")):typeof define=="function"&&define.amd?define(["exports","react","js-config-helper","axios","antd","js-form-helper","@apollo/client","i18next","react-i18next","react/jsx-runtime"],n):(e=typeof globalThis!="undefined"?globalThis:e||self,n(e["use-up"]={},e.React,e.Config,e.axios,e.antd,e.Form,e.apolloClient,e.i18next,e.reactI18next,e.jsxRuntime))})(this,function(e,n,y,w,p,h,f,I,_,o){"use strict";function g(i){return i&&typeof i=="object"&&"default"in i?i:{default:i}}var x=g(w),s=g(I);let l,c,t,P,m,U,q,v,d;e.exported=void 0,e.UpInit=!1;const C=async function(a){return t=new y.Config(a),c=t.get("override.http")||x.default.create(),l=t.get("override")||x.default.create({baseURL:t.get("api.url")}),t.has("exclude.form")||(m=function(r,u){return new h.Form(r,{http:c,...u})},U=function(r,u){return new h.Form(r,{http:l,...u})}),t.has("exclude.message")||(q=t.get("override.message")||p.message),t.has("exclude.notification")||(v=t.get("override.notification")||p.notification),t.has("exclude.i18n")||await s.default.use(_.initReactI18next).init(a.i18n),t.has("exclude.graphql")||(t.has("graphql.client")?d=t.get("graphql.client"):t.has("graphql.url")&&(d=new f.ApolloClient({uri:t.get("graphql.url"),cache:new f.InMemoryCache}))),e.exported={config:t,api:l,http:c,i18n:s.default,form:m,formApi:U,store:P,graphqlClient:d,t:s.default.t,message:q,notification:v},t.has("debug")&&console.log("\u2934 useUp() accessible vars :",e.exported),e.UpInit=!0,e.exported},A=function(){return e.UpInit||console.warn("Up is not initialized, you must run setUp() first or add an UpProvider !"),e.exported},j=n.createContext({});function F({options:i,children:a}){const[r,u]=n.useState();return n.useEffect(()=>{C(i).then(M=>{u(M)})},[]),r?o.jsx(j.Provider,{value:r,children:o.jsx(f.ApolloProvider,{client:r.graphqlClient,children:a})}):o.jsx(o.Fragment,{})}e.UpContext=j,e.UpProvider=F,e.setUp=C,e.useUp=A,Object.defineProperties(e,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
