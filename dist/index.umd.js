(function(e,i){typeof exports=="object"&&typeof module<"u"?i(exports,require("react/jsx-runtime"),require("react"),require("js-config-helper"),require("axios"),require("js-form-helper"),require("i18next"),require("react-i18next")):typeof define=="function"&&define.amd?define(["exports","react/jsx-runtime","react","js-config-helper","axios","js-form-helper","i18next","react-i18next"],i):(e=typeof globalThis<"u"?globalThis:e||self,i(e["use-up"]={},e.jsxRuntime,e.React,e.Config,e.axios,e.Form,e.i18next,e.reactI18next))})(this,function(e,i,f,v,j,c,y,q){"use strict";const p=t=>t&&typeof t=="object"&&"default"in t?t:{default:t},l=p(j),s=p(y);let a,d,n,U,x;e.exported=void 0,e.UpInit=!1;const h=async function(u){return n=new v.Config(u),d=n.get("override.http")||l.default.create(),a=n.get("override")||l.default.create({baseURL:n.get("api.url")}),n.has("exclude.form")||(U=function(o,r){return new c.Form(o,{http:d,...r})},x=function(o,r){return new c.Form(o,{http:a,...r})}),n.has("exclude.i18n")||u.i18n&&await s.default.use(q.initReactI18next).init(u.i18n),e.exported={config:n,api:a,http:d,i18n:s.default,form:U,formApi:x,t:s.default.t},n.has("debug")&&console.log("\u2934 useUp() accessible vars :",e.exported),e.UpInit=!0,e.exported},_=function(){return e.UpInit||console.warn("Up is not initialized, you must run setUp() first or add an UpProvider !"),e.exported},m=f.createContext({});function w({options:t,children:u}){const[o,r]=f.useState(!0),[g,I]=f.useState(),C=async()=>{const P=await h({...t,loading:o,setLoading:r});I(P),r(!1)};return f.useEffect(()=>{C().then(()=>{t.debug&&console.log("Up loaded")})},[]),g?i.jsx(m.Provider,{value:g,children:u}):i.jsx(i.Fragment,{})}e.UpContext=m,e.UpProvider=w,e.setUp=h,e.useUp=_,Object.defineProperties(e,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
