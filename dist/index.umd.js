(function(c,g){typeof exports=="object"&&typeof module!="undefined"?g(exports,require("axios"),require("antd")):typeof define=="function"&&define.amd?define(["exports","axios","antd"],g):(c=typeof globalThis!="undefined"?globalThis:c||self,g(c.UpReact={},c.axios,c.Antd))})(this,function(c,g,S){"use strict";function rt(t){if(t&&t.__esModule)return t;var e={__proto__:null,[Symbol.toStringTag]:"Module"};return t&&Object.keys(t).forEach(function(r){if(r!=="default"){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}}),e.default=t,Object.freeze(e)}var q=rt(g);function st(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var C={};(function(t){t.__esModule=!0;var e=function(){function r(s){this.options=s}return r.prototype.get=function(s,i){var n=s.split("."),a=this.options;return n.forEach(function(o){a&&(a=a[o])}),!a&&i&&(typeof i=="function"?a=i():a=i),a},r.prototype.has=function(s){var i=s.split("."),n=this.options;return i.forEach(function(a){n&&(n=n[a])}),!!n},r.prototype.set=function(s,i){var n=s.split("."),a=this.options;return n.forEach(function(o){a&&(a=a[o])}),a&&(a=i),a},r.prototype.all=function(){return this.options},r}();t.default=e})(C);var it=st(C),nt=Object.defineProperty,at=(t,e,r)=>e in t?nt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,m=(t,e,r)=>(at(t,typeof e!="symbol"?e+"":e,r),r);function ot(t,e){return e.forEach(function(r){Object.keys(r).forEach(function(s){if(s!=="default"&&!(s in t)){var i=Object.getOwnPropertyDescriptor(r,s);Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:function(){return r[s]}})}})}),Object.freeze(t)}class j{constructor(e={}){this.record(e)}all(){return this.errors}has(e){let r=this.errors.hasOwnProperty(e);return r||(r=Object.keys(this.errors).filter(i=>i.startsWith(`${e}.`)||i.startsWith(`${e}[`)).length>0),r}first(e){return this.get(e)[0]}get(e){return this.errors[e]||[]}any(e=[]){if(e.length===0)return Object.keys(this.errors).length>0;let r={};return e.forEach(s=>r[s]=this.get(s)),r}record(e={}){this.errors=e}clear(e){if(!e){this.errors={};return}let r=Object.assign({},this.errors);Object.keys(r).filter(s=>s===e||s.startsWith(`${e}.`)||s.startsWith(`${e}[`)).forEach(s=>delete r[s]),this.errors=r}}function ut(t){return Object.prototype.toString.call(t)==="[object Array]"}function z(t){return t instanceof File||t instanceof FileList}function O(t,e){for(const r in e)t[r]=A(e[r])}function A(t){if(t===null)return null;if(z(t))return t;if(Array.isArray(t)){const e=[];for(const r in t)t.hasOwnProperty(r)&&(e[r]=A(t[r]));return e}if(typeof t=="object"){const e={};for(const r in t)t.hasOwnProperty(r)&&(e[r]=A(t[r]));return e}return t}function I(t,e=new FormData,r=null){if(t===null||t==="undefined"||t.length===0)return e.append(r,t);for(const s in t)t.hasOwnProperty(s)&&lt(e,ft(r,s),t[s]);return e}function ft(t,e){return t?t+"["+e+"]":e}function lt(t,e,r){if(r instanceof Date)return t.append(e,r.toISOString());if(r instanceof File)return t.append(e,r,r.name);if(typeof r=="boolean")return t.append(e,r?"1":"0");if(r===null)return t.append(e,"");if(typeof r!="object")return t.append(e,r);I(r,t,e)}const ct=["__http","__options","__validateRequestType","clear","data","delete","errors","getError","getErrors","hasError","initial","onFail","only","onSuccess","patch","populate","post","processing","successful","put","reset","submit","withData","withErrors","withOptions"];function T(t){if(ct.indexOf(t)!==-1)throw new Error(`Field name ${t} isn't allowed to be used in a Form or Errors instance.`)}function ht(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}function pt(t){return t%4==0&&t%100!=0||t%400==0}function dt(t=""){if(t.length===10){let r=t.replace(".","-").replace("/","-").split("-");if(r.length===3&&r[0].length===4){let s=parseInt(r[0]),i=parseInt(r[1]),n=parseInt(r[2]);if(i===2){if(pt(s)){if(n>29)return!1}else if(n>28)return!1}if((i===4||i===6||i===9||i===11)&&n>30)return!1}return!0}return!0}function h(t){let e;if(typeof t=="number"&&(e=new Date(t),typeof e=="object"))return!0;if(e=new Date(t),typeof e=="object")return!(e.toString()==="Invalid Date"||!dt(t));var r=/^\d{4}\-\d{1,2}\-\d{1,2}$/;if(!r.test(t))return!1;var s=t.split("-"),i=parseInt(s[2],10),n=parseInt(s[1],10),a=parseInt(s[0],10);if(a<1e3||a>3e3||n==0||n>12)return!1;var o=[31,28,31,30,31,30,31,31,30,31,30,31];return(a%400==0||a%100!=0&&a%4==0)&&(o[1]=29),i>0&&i<=o[n-1]}var _={required:function(t){var e;return t==null?!1:(e=String(t).replace(/\s/g,""),e.length>0)},required_if:function(t,e,r){return e=this.getParameters(),this.validator._objectPath(this.validator.input,e[0])===e[1]?this.validator.getRule("required").validate(t):!0},required_unless:function(t,e,r){return e=this.getParameters(),this.validator._objectPath(this.validator.input,e[0])!==e[1]?this.validator.getRule("required").validate(t):!0},required_with:function(t,e,r){return this.validator._objectPath(this.validator.input,e)?this.validator.getRule("required").validate(t):!0},required_with_all:function(t,e,r){e=this.getParameters();for(var s=0;s<e.length;s++)if(!this.validator._objectPath(this.validator.input,e[s]))return!0;return this.validator.getRule("required").validate(t)},required_without:function(t,e,r){return this.validator._objectPath(this.validator.input,e)?!0:this.validator.getRule("required").validate(t)},required_without_all:function(t,e,r){e=this.getParameters();for(var s=0;s<e.length;s++)if(this.validator._objectPath(this.validator.input,e[s]))return!0;return this.validator.getRule("required").validate(t)},boolean:function(t){return t===!0||t===!1||t===0||t===1||t==="0"||t==="1"||t==="true"||t==="false"},size:function(t,e,r){if(t){e=parseFloat(e);var s=this.getSize();return s===e}return!0},string:function(t,e,r){return typeof t=="string"},sometimes:function(t){return!0},min:function(t,e,r){var s=this.getSize();return s>=e},max:function(t,e,r){var s=this.getSize();return s<=e},between:function(t,e,r){e=this.getParameters();var s=this.getSize(),i=parseFloat(e[0],10),n=parseFloat(e[1],10);return s>=i&&s<=n},email:function(t){var e=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(t)||(e=/^((?:[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]|[^\u0000-\u007F])+@(?:[a-zA-Z0-9]|[^\u0000-\u007F])(?:(?:[a-zA-Z0-9-]|[^\u0000-\u007F]){0,61}(?:[a-zA-Z0-9]|[^\u0000-\u007F]))?(?:\.(?:[a-zA-Z0-9]|[^\u0000-\u007F])(?:(?:[a-zA-Z0-9-]|[^\u0000-\u007F]){0,61}(?:[a-zA-Z0-9]|[^\u0000-\u007F]))?)+)*$/),e.test(t)},numeric:function(t){var e;return e=Number(t),typeof e=="number"&&!isNaN(e)&&typeof t!="boolean"},array:function(t){return t instanceof Array},url:function(t){return/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_\+.~#?&/=]*)/i.test(t)},alpha:function(t){return/^[a-zA-Z]+$/.test(t)},alpha_dash:function(t){return/^[a-zA-Z0-9_\-]+$/.test(t)},alpha_num:function(t){return/^[a-zA-Z0-9]+$/.test(t)},same:function(t,e){var r=this.validator._flattenObject(this.validator.input)[e],s=t;return r===s},different:function(t,e){var r=this.validator._flattenObject(this.validator.input)[e],s=t;return r!==s},in:function(t,e){var r,s;if(t&&(r=this.getParameters()),t&&!(t instanceof Array)){var i=t;for(s=0;s<r.length;s++)if(typeof r[s]=="string"&&(i=String(t)),i===r[s])return!0;return!1}if(t&&t instanceof Array){for(s=0;s<t.length;s++)if(r.indexOf(t[s])<0)return!1}return!0},not_in:function(t,e){for(var r=this.getParameters(),s=r.length,i=!0,n=0;n<s;n++){var a=t;if(typeof r[n]=="string"&&(a=String(t)),a===r[n]){i=!1;break}}return i},accepted:function(t){return t==="on"||t==="yes"||t===1||t==="1"||t===!0},confirmed:function(t,e,r){var s=r+"_confirmation";return this.validator.input[s]===t},integer:function(t){return String(parseInt(t,10))===String(t)},digits:function(t,e){var r=this.validator.getRule("numeric");return!!(r.validate(t)&&String(t.trim()).length===parseInt(e))},digits_between:function(t){var e=this.validator.getRule("numeric"),r=this.getParameters(),s=String(t).length,i=parseFloat(r[0],10),n=parseFloat(r[1],10);return!!(e.validate(t)&&s>=i&&s<=n)},regex:function(t,e){var r=/[g|i|m]{1,3}$/,s=e.match(r);return s=s?s[0]:"",e=e.replace(r,"").slice(1,-1),e=new RegExp(e,s),!!e.test(t)},date:function(t,e){return h(t)},present:function(t){return typeof t!="undefined"},after:function(t,e){var r=this.validator.input[e],s=t;return!h(r)||!h(s)?!1:new Date(r).getTime()<new Date(s).getTime()},after_or_equal:function(t,e){var r=this.validator.input[e],s=t;return!h(r)||!h(s)?!1:new Date(r).getTime()<=new Date(s).getTime()},before:function(t,e){var r=this.validator.input[e],s=t;return!h(r)||!h(s)?!1:new Date(r).getTime()>new Date(s).getTime()},before_or_equal:function(t,e){var r=this.validator.input[e],s=t;return!h(r)||!h(s)?!1:new Date(r).getTime()>=new Date(s).getTime()},hex:function(t){return/^[0-9a-f]+$/i.test(t)},ipv4:function(t,e,r){if(typeof t!="string")return!1;var s=/^[0-9]+$/;if(octets=t.split("."),octets.length!=4)return!1;for(let n=0;n<octets.length;n++){const a=octets[n];if(!s.test(a))return!1;var i=parseInt(a);if(i>=256)return!1}return!0},ipv6:function(t,e,r){if(typeof t!="string")return!1;var s=/^[0-9a-f]+$/;if(hextets=t.split(":"),colons=t.match(/::/),colons!=null&&t.match(/::/g).length>1||t[0]==":"&&(colons==null||colons!=null&&colons.index!=0)||t[t.length-1]==":"&&(colons==null||colons!=null&&colons.index!=t.length-2)||3>hextets.length)return!1;var i=hextets.length==9&&colons!=null&&(colons.index==0||colons.index==t.length-2);if(hextets.length>8&&!i||hextets.length!=8&&colons==null)return!1;for(let n=0;n<hextets.length;n++){const a=hextets[n];if(a.length!=0&&(!s.test(a)||a.length>4))return!1}return!0},ip:function(t,e,r){return _.ipv4(t,e,r)||_.ipv6(t,e,r)}},V=function(){throw new Error("Validator `"+this.name+"` is not defined!")},k;function L(t,e,r){this.name=t,this.fn=e,this.passes=null,this._customMessage=void 0,this.async=r}L.prototype={validate:function(t,e,r,s){var i=this;if(this._setValidatingData(r,t,e),typeof s=="function"){this.callback=s;var n=function(a,o){i.response(a,o)};return this.async?this._apply(t,e,r,n):n(this._apply(t,e,r))}return this._apply(t,e,r)},_apply:function(t,e,r,s){var i=this.isMissed()?V:this.fn;return i.apply(this,[t,e,r,s])},_setValidatingData:function(t,e,r){this.attribute=t,this.inputValue=e,this.ruleValue=r},getParameters:function(){var t=[];return typeof this.ruleValue=="string"&&(t=this.ruleValue.split(",")),typeof this.ruleValue=="number"&&t.push(this.ruleValue),this.ruleValue instanceof Array&&(t=this.ruleValue),t},getSize:function(){var t=this.inputValue;return t instanceof Array?t.length:typeof t=="number"?t:this.validator._hasNumericRule(this.attribute)?parseFloat(t,10):t.length},_getValueType:function(){return typeof this.inputValue=="number"||this.validator._hasNumericRule(this.attribute)?"numeric":"string"},response:function(t,e){this.passes=t===void 0||t===!0,this._customMessage=e,this.callback(this.passes,e)},setValidator:function(t){this.validator=t},isMissed:function(){return typeof this.fn!="function"},get customMessage(){return this.isMissed()?k:this._customMessage}};var gt={asyncRules:[],implicitRules:["required","required_if","required_unless","required_with","required_with_all","required_without","required_without_all","accepted","present"],make:function(t,e){var r=this.isAsync(t),s=new L(t,_[t],r);return s.setValidator(e),s},isAsync:function(t){for(var e=0,r=this.asyncRules.length;e<r;e++)if(this.asyncRules[e]===t)return!0;return!1},isImplicit:function(t){return this.implicitRules.indexOf(t)>-1},register:function(t,e){_[t]=e},registerImplicit:function(t,e){this.register(t,e),this.implicitRules.push(t)},registerAsync:function(t,e){this.register(t,e),this.asyncRules.push(t)},registerAsyncImplicit:function(t,e){this.registerImplicit(t,e),this.asyncRules.push(t)},registerMissedRuleValidator:function(t,e){V=t,k=e}},mt=gt,vt={between:function(t,e){var r=e.getParameters();return this._replacePlaceholders(e,t,{min:r[0],max:r[1]})},digits_between:function(t,e){var r=e.getParameters();return this._replacePlaceholders(e,t,{min:r[0],max:r[1]})},required_if:function(t,e){var r=e.getParameters();return this._replacePlaceholders(e,t,{other:this._getAttributeName(r[0]),value:r[1]})},required_unless:function(t,e){var r=e.getParameters();return this._replacePlaceholders(e,t,{other:this._getAttributeName(r[0]),value:r[1]})},required_with:function(t,e){var r=e.getParameters();return this._replacePlaceholders(e,t,{field:this._getAttributeName(r[0])})},required_with_all:function(t,e){var r=e.getParameters(),s=this._getAttributeName.bind(this);return this._replacePlaceholders(e,t,{fields:r.map(s).join(", ")})},required_without:function(t,e){var r=e.getParameters();return this._replacePlaceholders(e,t,{field:this._getAttributeName(r[0])})},required_without_all:function(t,e){var r=e.getParameters(),s=this._getAttributeName.bind(this);return this._replacePlaceholders(e,t,{fields:r.map(s).join(", ")})},after:function(t,e){var r=e.getParameters();return this._replacePlaceholders(e,t,{after:this._getAttributeName(r[0])})},before:function(t,e){var r=e.getParameters();return this._replacePlaceholders(e,t,{before:this._getAttributeName(r[0])})},after_or_equal:function(t,e){var r=e.getParameters();return this._replacePlaceholders(e,t,{after_or_equal:this._getAttributeName(r[0])})},before_or_equal:function(t,e){var r=e.getParameters();return this._replacePlaceholders(e,t,{before_or_equal:this._getAttributeName(r[0])})},same:function(t,e){var r=e.getParameters();return this._replacePlaceholders(e,t,{same:this._getAttributeName(r[0])})}};function _t(t){return t.replace(/[_\[]/g," ").replace(/]/g,"")}var Z={replacements:vt,formatter:_t},W=Z,P=function(t,e){this.lang=t,this.messages=e,this.customMessages={},this.attributeNames={}};P.prototype={constructor:P,_setCustom:function(t){this.customMessages=t||{}},_setAttributeNames:function(t){this.attributeNames=t},_setAttributeFormatter:function(t){this.attributeFormatter=t},_getAttributeName:function(t){var e=t;return this.attributeNames.hasOwnProperty(t)?this.attributeNames[t]:(this.messages.attributes.hasOwnProperty(t)&&(e=this.messages.attributes[t]),this.attributeFormatter&&(e=this.attributeFormatter(e)),e)},all:function(){return this.messages},render:function(t){if(t.customMessage)return t.customMessage;var e=this._getTemplate(t),r;return W.replacements[t.name]?r=W.replacements[t.name].apply(this,[e,t]):r=this._replacePlaceholders(t,e,{}),r},_getTemplate:function(t){for(var e=this.messages,r=e.def,s=this.customMessages,i=[t.name+"."+t.attribute,t.name],n=0,a;n<i.length;n++)if(a=i[n],s.hasOwnProperty(a)){r=s[a];break}else if(e.hasOwnProperty(a)){r=e[a];break}return typeof r=="object"&&(r=r[t._getValueType()]),r},_replacePlaceholders:function(t,e,r){var s,i;if(r.attribute=this._getAttributeName(t.attribute),r[t.name]=r[t.name]||t.getParameters().join(","),typeof e=="string"&&typeof r=="object"){s=e;for(i in r)s=s.replace(new RegExp(":"+i,"g"),r[i])}return s}};var yt=P,bt=yt,wt=ht,Ot={messages:{},_set:function(t,e){this.messages[t]=e},_setRuleMessage:function(t,e,r){this._load(t),r===void 0&&(r=this.messages[t].def),this.messages[t][e]=r},_load:function(t){if(!this.messages[t])try{var e=wt("./lang/"+t);this._set(t,e)}catch(r){}},_get:function(t){return this._load(t),this.messages[t]},_make:function(t){return this._load(t),new bt(t,this.messages[t])}},At=Ot,R=function(){this.errors={}};R.prototype={constructor:R,add:function(t,e){this.has(t)||(this.errors[t]=[]),this.errors[t].indexOf(e)===-1&&this.errors[t].push(e)},get:function(t){return this.has(t)?this.errors[t]:[]},first:function(t){return this.has(t)?this.errors[t][0]:!1},all:function(){return this.errors},has:function(t){return!!this.errors.hasOwnProperty(t)}};var Pt=R;function U(t,e){this.onResolvedAll=e,this.onFailedOne=t,this.resolvers={},this.resolversCount=0,this.passed=[],this.failed=[],this.firing=!1}U.prototype={add:function(t){var e=this.resolversCount;return this.resolvers[e]=t,this.resolversCount++,e},resolve:function(t){var e=this.resolvers[t];e.passes===!0?this.passed.push(e):e.passes===!1&&(this.failed.push(e),this.onFailedOne(e)),this.fire()},isAllResolved:function(){return this.passed.length+this.failed.length===this.resolversCount},fire:function(){!this.firing||this.isAllResolved()&&this.onResolvedAll(this.failed.length===0)},enableFiring:function(){this.firing=!0}};var Rt=U,p=mt,d=At,Ft=Pt,xt=Z,Dt=Rt,u=function(t,e,r){var s=u.getDefaultLang();this.input=t||{},this.messages=d._make(s),this.messages._setCustom(r),this.setAttributeFormatter(u.prototype.attributeFormatter),this.errors=new Ft,this.errorCount=0,this.hasAsync=!1,this.rules=this._parseRules(e)};u.prototype={constructor:u,lang:"en",numericRules:["integer","numeric"],attributeFormatter:xt.formatter,check:function(){for(var t in this.rules){var e=this.rules[t],r=this._objectPath(this.input,t);if(!(this._hasRule(t,["sometimes"])&&!this._suppliedWithData(t)))for(var s=0,i=e.length,n,a,o;s<i&&(a=e[s],n=this.getRule(a.name),!(!!this._isValidatable(n,r)&&(o=n.validate(r,a.value,t),o||this._addFailure(n),this._shouldStopValidating(t,o))));s++);}return this.errorCount===0},checkAsync:function(t,e){var r=this;t=t||function(){},e=e||function(){};var s=function(v,$){r._addFailure(v,$)},i=function(v){v?t():e()},n=new Dt(s,i),a=function(v,$,zt,et){return function(){var It=n.add(et);et.validate(v,$.value,zt,function(){n.resolve(It)})}};for(var o in this.rules){var w=this.rules[o],tt=this._objectPath(this.input,o);if(!(this._hasRule(o,["sometimes"])&&!this._suppliedWithData(o)))for(var N=0,jt=w.length,E,M;N<jt;N++)M=w[N],E=this.getRule(M.name),!!this._isValidatable(E,tt)&&a(tt,M,o,E)()}n.enableFiring(),n.fire()},_addFailure:function(t){var e=this.messages.render(t);this.errors.add(t.attribute,e),this.errorCount++},_flattenObject:function(t){var e={};function r(s,i){if(!(!i&&Object.getOwnPropertyNames(s).length===0))if(Object(s)!==s||Array.isArray(s))e[i]=s;else{var n=!0;for(var a in s)n=!1,r(s[a],i?i+"."+a:a);n&&(e[i]={})}}return t&&r(t),e},_objectPath:function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e];var r=e.replace(/\[(\w+)\]/g,".$1").replace(/^\./,"").split("."),s={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(s[i]=t[i]);for(var n=0,a=r.length;n<a;n++)if(typeof s=="object"&&s!==null&&Object.hasOwnProperty.call(s,r[n]))s=s[r[n]];else return;return s},_parseRules:function(t){var e={};t=this._flattenObject(t);for(var r in t){var s=t[r];this._parseRulesCheck(r,s,e)}return e},_parseRulesCheck:function(t,e,r,s){t.indexOf("*")>-1?this._parsedRulesRecurse(t,e,r,s):this._parseRulesDefault(t,e,r,s)},_parsedRulesRecurse:function(t,e,r,s){var i=t.substr(0,t.indexOf("*")-1),n=this._objectPath(this.input,i);if(n)for(var a=0;a<n.length;a++){var o=s?s.slice():[];o.push(a),this._parseRulesCheck(t.replace("*",a),e,r,o)}},_parseRulesDefault:function(t,e,r,s){var i=[];e instanceof Array&&(e=this._prepareRulesArray(e)),typeof e=="string"&&(e=e.split("|"));for(var n=0,a=e.length,o;n<a;n++)o=typeof e[n]=="string"?this._extractRuleAndRuleValue(e[n]):e[n],o.value&&(o.value=this._replaceWildCards(o.value,s),this._replaceWildCardsMessages(s)),p.isAsync(o.name)&&(this.hasAsync=!0),i.push(o);r[t]=i},_replaceWildCards:function(t,e){if(!e)return t;var r=t;return e.forEach(function(s){Array.isArray(r)&&(r=r[0]);const i=r.indexOf("*");if(i===-1)return r;r=r.substr(0,i)+s+r.substr(i+1)}),Array.isArray(t)&&(t[0]=r,r=t),r},_replaceWildCardsMessages:function(t){var e=this.messages.customMessages,r=this;Object.keys(e).forEach(function(s){if(t){var i=r._replaceWildCards(s,t);e[i]=e[s]}}),this.messages._setCustom(e)},_prepareRulesArray:function(t){for(var e=[],r=0,s=t.length;r<s;r++)if(typeof t[r]=="object")for(var i in t[r])e.push({name:i,value:t[r][i]});else e.push(t[r]);return e},_suppliedWithData:function(t){return this.input.hasOwnProperty(t)},_extractRuleAndRuleValue:function(t){var e={},r;return e.name=t,t.indexOf(":")>=0&&(r=t.split(":"),e.name=r[0],e.value=r.slice(1).join(":")),e},_hasRule:function(t,e){for(var r=this.rules[t]||[],s=0,i=r.length;s<i;s++)if(e.indexOf(r[s].name)>-1)return!0;return!1},_hasNumericRule:function(t){return this._hasRule(t,this.numericRules)},_isValidatable:function(t,e){return Array.isArray(e)||p.isImplicit(t.name)?!0:this.getRule("required").validate(e)},_shouldStopValidating:function(t,e){var r=this.stopOnAttributes;return typeof r=="undefined"||r===!1||e===!0?!1:r instanceof Array?r.indexOf(t)>-1:!0},setAttributeNames:function(t){this.messages._setAttributeNames(t)},setAttributeFormatter:function(t){this.messages._setAttributeFormatter(t)},getRule:function(t){return p.make(t,this)},stopOnError:function(t){this.stopOnAttributes=t},passes:function(t){var e=this._checkAsync("passes",t);return e?this.checkAsync(t):this.check()},fails:function(t){var e=this._checkAsync("fails",t);return e?this.checkAsync(function(){},t):!this.check()},_checkAsync:function(t,e){var r=typeof e=="function";if(this.hasAsync&&!r)throw t+" expects a callback when async rules are being tested.";return this.hasAsync||r}},u.setMessages=function(t,e){return d._set(t,e),this},u.getMessages=function(t){return d._get(t)},u.useLang=function(t){this.prototype.lang=t},u.getDefaultLang=function(){return this.prototype.lang},u.setAttributeFormatter=function(t){this.prototype.attributeFormatter=t},u.stopOnError=function(t){this.prototype.stopOnAttributes=t},u.register=function(t,e,r,s){var i=u.getDefaultLang();p.register(t,e),d._setRuleMessage(i,t,r)},u.registerImplicit=function(t,e,r,s){var i=u.getDefaultLang();p.registerImplicit(t,e),d._setRuleMessage(i,t,r)},u.registerAsync=function(t,e,r,s){var i=u.getDefaultLang();p.registerAsync(t,e),d._setRuleMessage(i,t,r)},u.registerAsyncImplicit=function(t,e,r){var s=u.getDefaultLang();p.registerAsyncImplicit(t,e),d._setRuleMessage(s,t,r)},u.registerMissedRuleValidator=function(t,e){p.registerMissedRuleValidator(t,e)};var K=u,Nt=Object.freeze(ot({__proto__:null,[Symbol.toStringTag]:"Module",default:K},[K]));class y{constructor(e={},r={}){m(this,"processing"),m(this,"successful"),m(this,"errors"),m(this,"__options"),m(this,"initial"),this.processing=!1,this.successful=!1,this.withData(e).withOptions(r).withErrors({})}withData(e){ut(e)&&(e=e.reduce((r,s)=>(r[s]="",r),{})),this.setInitialValues(e),this.errors=new j,this.processing=!1,this.successful=!1;for(const r in e)T(r),this[r]=e[r];return this}withErrors(e){return this.errors=new j(e),this}withOptions(e){this.__options={resetOnSuccess:!0},e.hasOwnProperty("resetOnSuccess")&&(this.__options.resetOnSuccess=e.resetOnSuccess),e.hasOwnProperty("onSuccess")&&(this.onSuccess=e.onSuccess),e.hasOwnProperty("onFail")&&(this.onFail=e.onFail);const r=typeof window=="undefined"?!1:window.axios;if(this.__http=e.http||r||axios,!this.__http)throw new Error("No http library provided. Either pass an http option, or install axios.");return this}data(){const e={};for(const r in this.initial)e[r]=this[r];return e}only(e){return e.reduce((r,s)=>(r[s]=this[s],r),{})}reset(){O(this,this.initial),this.errors.clear()}setInitialValues(e){this.initial={},O(this.initial,e)}populate(e){return Object.keys(e).forEach(r=>{T(r),this.hasOwnProperty(r)&&O(this,{[r]:e[r]})}),this}clear(){for(const e in this.initial)this[e]="";this.errors.clear()}post(e){return this.submit("post",e)}put(e){return this.submit("put",e)}patch(e){return this.submit("patch",e)}delete(e){return this.submit("delete",e)}submit(e,r){return this.__validateRequestType(e),this.errors.clear(),this.processing=!0,this.successful=!1,new Promise((s,i)=>{this.__http[e](r,this.hasFiles()?I(this.data()):this.data()).then(n=>{this.processing=!1,this.onSuccess(n.data),s(n.data)}).catch(n=>{this.processing=!1,this.onFail(n),i(n)})})}hasFiles(){for(const e in this.initial)if(this.hasFilesDeep(this[e]))return!0;return!1}hasFilesDeep(e){if(e===null)return!1;if(typeof e=="object"){for(const r in e)if(e.hasOwnProperty(r)&&this.hasFilesDeep(e[r]))return!0}if(Array.isArray(e)){for(const r in e)if(e.hasOwnProperty(r))return this.hasFilesDeep(e[r])}return z(e)}onSuccess(e){this.successful=!0,this.__options.resetOnSuccess&&this.reset()}onFail(e){this.successful=!1,e.response&&e.response.data.errors&&this.errors.record(e.response.data.errors)}hasError(e){return this.errors.has(e)}getError(e){return this.errors.first(e)}getErrors(e){return this.errors.get(e)}__validateRequestType(e){const r=["get","delete","head","post","put","patch"];if(r.indexOf(e)===-1)throw new Error(`\`${e}\` is not a valid request type, must be one of: \`${r.join("`, `")}\`.`)}validate(e,r){this.errors.clear(),this.processing=!0,this.successful=!1;let s=new Nt(this.data(),e);s.fails()?(this.successful=!1,this.errors.record(s.errors.all())):this.successful=!0}static create(e={}){return new y().withData(e)}}var Et=Object.defineProperty,H=Object.getOwnPropertySymbols,Mt=Object.prototype.hasOwnProperty,$t=Object.prototype.propertyIsEnumerable,Y=(t,e,r)=>e in t?Et(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,b=(t,e)=>{for(var r in e||(e={}))Mt.call(e,r)&&Y(t,r,e[r]);if(H)for(var r of H(e))$t.call(e,r)&&Y(t,r,e[r]);return t};class St{__(e,r=null,s=null){return this.get(e,r,s)}add(e,r=null){r||(r=this.locale),this.translations.set(r,Object.assign({},this.translations.get(r),e))}choice(e,r=1,s=null,i=null){i||(i=this.locale);let n=null;const a=this.fetch(`${i}.${e}`);if(!a)return typeof window!="undefined"&&this.options.storeNotFounds&&window[this.options.globalName]._notFounds.push(e),this.forceDisplayKeys?s?this.constructor.replaceString(e,s):e:"";const o=a.split("|");return o.some(w=>(n=this.constructor.matchChoiceCount(w,r),n)),n===!1&&(n=r>1?o[1]:o[0]),this._returnString(e,n,s)}constructor(e={},r="en",s={}){s=Object.assign({globalName:"translations",forceDisplayKeys:!0,storeNotFounds:!0},s),this.forceDisplayKeys=s.forceDisplayKeys,this.locale=r,this.translations=new Map,typeof window!="undefined"&&s.globalName&&(window[s.globalName]===void 0&&(window[s.globalName]={}),e=Object.assign({},window[s.globalName],e),s.storeNotFounds&&(window[s.globalName]._notFounds=[])),this.set(e,this.locale),this.options=s}static decodeHtml(e){if(typeof document=="undefined"){const r=document.createElement("textarea");return r.innerHTML=e,r.value}return e}fetch(e){const r=e.split("."),s=r.shift();let i=this.translations.get(s);return r.forEach(n=>{i&&(i=i[n])}),i}get(e,r=null,s=null){typeof r=="string"&&(s=r,r=null),s||(s=this.locale);const i=this.fetch(`${s}.${e}`);return this._returnString(e,i,r)}has(e,r=null){return r||(r=this.locale),this.fetch(`${r}.${e}`)!==void 0}static matchChoiceCount(e,r){const s=e.match(/^[{[]([^[\]{}]*)[}\]](.*)/);if(!s)return!1;if(s[1].includes(",")){const[i,n]=s[1].split(",",2);if(n==="*"&&r>=i||i==="*"&&r<=n||r>=i&&r<=n)return s[2]}return parseInt(s[1],10)===r?s[2]:null}static replaceString(e,r){return r?Object.entries(r).reduce((s,[i,n])=>{n=String(n);const a=i.toLowerCase();return s.replace(`:${a}`,n).replace(`:${a.toUpperCase()}`,n.toUpperCase()).replace(`:${a.charAt(0).toUpperCase()}${a.slice(1)}`,`${n.charAt(0).toUpperCase()}${n.slice(1)}`)},e):e}_returnString(e,r,s){return typeof r!="string"&&this.forceDisplayKeys&&(r=e,this.options.storeNotFounds&&typeof window!="undefined"&&window[this.options.globalName]._notFounds.push(e)),s&&(r=this.constructor.replaceString(r,s)),this.constructor.decodeHtml(r)}setLocale(e){this.locale=e}set(e,r=null){r||(r=this.locale),this.translations.set(r,e)}}function qt(t={},e="en",r={}){return new St(t,e,r)}let F,x,f,l,B,G,J,Q,X,D;function Ct(t){if(t){if(f=new it(t),x=f.get("override.http")||q.create(),F=f.get("override")||q.create({baseURL:f.get("api.url")}),f.has("exclude.form")||(G=function(e,r){return new y(e,b(b({},{http:x}),r))},J=function(e,r){return new y(e,b(b({},{http:F}),r))}),f.has("exclude.message")||(Q=f.get("override.message")||S.message),f.has("exclude.notification")||(X=f.get("override.notification")||S.notification),!f.has("exclude.i18n")){const e=t.translations[t.locale];l=qt(e,t.locale,{globalName:"translations",forceDisplayKeys:!0,storeNotFounds:!0})}B=f.get("override.store"),D={config:f,api:F,http:x,i18n:l,form:G,formApi:J,store:B,t:l==null?void 0:l.__.bind(l),__:l==null?void 0:l.__.bind(l),choice:l==null?void 0:l.choice.bind(l),message:Q,notification:X},f.has("debug")&&console.log("\u2934 useUp() accessible vars :",D)}return D}c.useUp=Ct,Object.defineProperty(c,"__esModule",{value:!0}),c[Symbol.toStringTag]="Module"});
