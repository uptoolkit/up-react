"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const s=require("react/jsx-runtime"),o=require("react"),b=require("js-config-helper"),q=require("axios"),f=require("js-form-helper"),_=require("i18next"),w=require("react-i18next"),U=e=>e&&typeof e=="object"&&"default"in e?e:{default:e},p=U(q),u=U(_);let a,c,t,d,x;exports.exported=void 0;exports.UpInit=!1;const g=async function(n){return t=new b.Config(n),c=t.get("override.http")||p.default.create(),a=t.get("override")||p.default.create({baseURL:t.get("api.url")}),t.has("exclude.form")||(d=function(i,r){return new f.Form(i,{http:c,...r})},x=function(i,r){return new f.Form(i,{http:a,...r})}),t.has("exclude.i18n")||n.i18n&&await u.default.use(w.initReactI18next).init(n.i18n),exports.exported={config:t,api:a,http:c,i18n:u.default,form:d,formApi:x,t:u.default.t},t.has("debug")&&console.log("\u2934 useUp() accessible vars :",exports.exported),exports.UpInit=!0,exports.exported},y=function(){return exports.UpInit||console.warn("Up is not initialized, you must run setUp() first or add an UpProvider !"),exports.exported},m=o.createContext({});function I({options:e,children:n}){const[i,r]=o.useState(!0),[l,v]=o.useState(),j=async()=>{const h=await g({...e,loading:i,setLoading:r});v(h),r(!1)};return o.useEffect(()=>{j().then(()=>{e.debug&&console.log("Up loaded")})},[]),l?s.jsx(m.Provider,{value:l,children:n}):s.jsx(s.Fragment,{})}exports.UpContext=m;exports.UpProvider=I;exports.setUp=g;exports.useUp=y;
