"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});var c=require("react"),w=require("js-config-helper"),I=require("axios"),p=require("antd"),d=require("js-form-helper"),f=require("@apollo/client"),_=require("i18next"),b=require("react-i18next"),a=require("react/jsx-runtime");function U(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}var g=U(I),o=U(_);let l,u,e,y,x,v,h,m,s;exports.exported=void 0;exports.UpInit=!1;const q=async function(n){return e=new w.Config(n),u=e.get("override.http")||g.default.create(),l=e.get("override")||g.default.create({baseURL:e.get("api.url")}),e.has("exclude.form")||(x=function(r,i){return new d.Form(r,{http:u,...i})},v=function(r,i){return new d.Form(r,{http:l,...i})}),e.has("exclude.message")||(h=e.get("override.message")||p.message),e.has("exclude.notification")||(m=e.get("override.notification")||p.notification),e.has("exclude.i18n")||await o.default.use(b.initReactI18next).init(n.i18n),e.has("exclude.graphql")||(e.has("graphql.client")?s=e.get("graphql.client"):e.has("graphql.url")&&(s=new f.ApolloClient({uri:e.get("graphql.url"),cache:new f.InMemoryCache}))),exports.exported={config:e,api:l,http:u,i18n:o.default,form:x,formApi:v,store:y,graphqlClient:s,t:o.default.t,message:h,notification:m},e.has("debug")&&console.log("\u2934 useUp() accessible vars :",exports.exported),exports.UpInit=!0,exports.exported},P=function(){return exports.UpInit||console.warn("Up is not initialized, you must run setUp() first or add an UpProvider !"),exports.exported},j=c.createContext({});function F({options:t,children:n}){const[r,i]=c.useState();return c.useEffect(()=>{q(t).then(C=>{i(C)})},[]),r?a.jsx(j.Provider,{value:r,children:a.jsx(f.ApolloProvider,{client:r.graphqlClient,children:n})}):a.jsx(a.Fragment,{})}exports.UpContext=j;exports.UpProvider=F;exports.setUp=q;exports.useUp=P;
